<template>
<q-page class="bg-white text-center">
    <div class="text-weight-bolder text-h4">FORMULARIO DE REGISTRO DE MASCOTAS</div>
<DatosGenerales v-if="datosGeneralesf" @submit="datosGeneralesForm"/> 
<DatosMascotas v-if="datosMascotasf" @submit="datosMascotasForm"/>
<VacunacionMascotas v-if="vacunacionMascotasf" @submit="vacunacionMascotasForm"/>
</q-page >


</template>

<script setup lang="ts">
import { ref } from 'vue';
import { useQuasar } from 'quasar';
import DatosGenerales from 'src/components/DatosGenerales.vue';
import DatosMascotas from 'src/components/DatosMascotas.vue';
import VacunacionMascotas from 'src/components/VacunacionMascotas.vue';
const $q = useQuasar();
const datosGeneralesf = ref<boolean>(true)
const datosMascotasf = ref<boolean>(false)
const vacunacionMascotasf = ref<boolean>(false)

function datosGeneralesForm($ev: boolean) {
    datosGeneralesf.value = !datosGeneralesf.value;
    datosMascotasf.value = !datosMascotasf.value;
  window.scrollTo({
    top: 0,
    left: 0, 
    behavior: 'smooth',
  });
}
function datosMascotasForm($ev: boolean) {
    datosMascotasf.value = !datosMascotasf.value;
    vacunacionMascotasf.value = !vacunacionMascotasf.value;
  window.scrollTo({
    top: 0,
    left: 0,
    behavior: 'smooth',
  });
}
function vacunacionMascotasForm($ev: boolean) {
  if ($ev) {
    $q.dialog({
      title: 'ConfirmaciÃ³n',
      message: 'macota agregada correctamente',
    })
      .onOk(() => {
        window.location.reload();
      })

      .onDismiss(() => {
        // console.log('I am triggered on both OK and Cancel')
        window.location.reload();
      });
  }
}

</script>